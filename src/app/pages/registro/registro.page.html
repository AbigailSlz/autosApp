<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button
        defaultHref="/"
        text=""
        color="tertiary"
      ></ion-back-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding" [fullscreen]="true">
  <ion-grid fixed>
    <ion-row>
      <ion-col size="3" sizeLg="3" sizeMd="3" sizeSm="12" sizeXs="12">
      </ion-col>
      <ion-col size="6" sizeLg="6" sizeMd="6" sizeSm="12" sizeXs="12">
        <ion-card>
          <ion-card-header class="ion-text-center">
            <ion-card-subtitle>Registro</ion-card-subtitle>
            <ion-card-title><h1>AutosApp</h1></ion-card-title>
            <img src="/assets/images/cars-15.png" alt="" />
          </ion-card-header>

          <ion-card-content>
            <form
              ngNativeValidate
              autocomplete="off"
              (ngSubmit)="registro()"
              [formGroup]="registroForm"
            >
              <ion-grid fixed>
                <ion-row>
                  <ion-col size="12">
                    <ion-list>
                      <ion-item>
                        <ion-label>Nombre</ion-label>
                        <ion-input
                          name="firstname"
                          type="text"
                          placeholder="Firstname"
                          formControlName="firstname"
                          required
                        ></ion-input>
                      </ion-item>

                      <ion-item>
                        <ion-label>Apellido</ion-label>
                        <ion-input
                          name="lastname"
                          type="text"
                          placeholder="Lastname"
                          formControlName="lastname"
                          required
                        ></ion-input>
                      </ion-item>

                      <ion-item>
                        <ion-label>Email</ion-label>
                        <ion-input
                          name="email"
                          type="email"
                          placeholder="ejemplo@gmail.com"
                          formControlName="email"
                          required
                        ></ion-input>
                      </ion-item>

                      <ion-accordion-group #accordionGroup>
                        <ion-accordion value="start">
                          <ion-item slot="header">
                            <ion-label>Fecha de nacimiento</ion-label>
                            <ion-note slot="end" id="datetimeValue">{{fecha | date: 'dd/MM/YYYY' }}</ion-note>
                          </ion-item>

                          <ion-datetime
                            id="datetime"
                            name="birthdate"
                            presentation="date"
                            slot="content"
                            displayFormat="DD MMMM YY"
                            min="1970-06-04"
                            formControlName="birthdate"
                            (ionChange)="cambioFecha($event)"
                            (ionBlur)="toggleAccordion()"
                          ></ion-datetime>
                        </ion-accordion>
                      </ion-accordion-group>

                      <ion-item>
                        <ion-label>Contraseña</ion-label>
                        <ion-input
                          name="password"
                          type="password"
                          placeholder="******"
                          minlength="5"
                          formControlName="password"
                          required
                        ></ion-input>
                      </ion-item>

                      <ion-item>
                        <ion-label>Confirmar contraseña</ion-label>
                        <ion-input
                          name="password"
                          type="password"
                          placeholder="******"
                          minlength="5"
                          formControlName="confirmpassword"
                          required
                        ></ion-input>
                      </ion-item>
                      <ion-note  *ngIf="registroForm.controls['password'].hasError('pattern')" color="danger" class="mensajeError">Las contraseñas deben tener 8 caracteres como mínimo y contener al menos dos de los siguientes elementos: mayúsculas, minúsculas, números y símbolos.</ion-note>

                    </ion-list>
                  </ion-col>
                </ion-row>

                <ion-row class="ion-padding">
                  <ion-col size="12">
                    <ion-button
                      type="submit"
                      color="tertiary"
                      shape="round"
                      expand="full"
                    >
                      Registrarse
                    </ion-button>
                  </ion-col>
                </ion-row>
              </ion-grid>
            </form>
          </ion-card-content>
        </ion-card>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>

